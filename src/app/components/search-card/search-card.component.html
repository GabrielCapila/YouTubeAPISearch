<mat-card>
  <mat-card-title>
    Pesquisa API Youtube
  </mat-card-title>
  <div class="content">
    <mat-form-field appearance="outline">
      <mat-label>Digite o que deseja pesquisar</mat-label>
      <form (submit)="handleInputChange()">
        <input
          name="search input"
          type="text"
          [(ngModel)]="searchInput"
          matInput
          placeholder="Pesquisa"
        />
      </form>
    </mat-form-field>
    <button (click)="handleInputChange()" mat-fab color="warn">
      <mat-icon matSuffix>search</mat-icon>
    </button>
  </div>
  <div *ngIf="loading" class="loading">
    <mat-spinner></mat-spinner>
  </div>
  <div *ngIf="searchResult" class="result">
    <div class="row" style="justify-content: center;margin-top:20px">
      <div *ngFor="let video of searchResult" class="col-lg-2">
        <a
          [href]="'https://www.youtube.com/watch?v=' + video.id.videoId"
          target="_blank"
        >
          <mat-card class="video_card">
            <img
              mat-card-image
              alt="video thumbnail"
              [src]="video.snippet.thumbnails.high.url"
            />
            <mat-card-content>
              <p>{{ video.snippet.title }}</p>
              <small>{{ video.snippet.channelTitle }}</small>
            </mat-card-content>
          </mat-card>
        </a>
      </div>
    </div>
  </div>
</mat-card>
